<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test OpenGL</title>
</head>
<script type="text/javascript" src="../../res/misc/webgl-utils.js"></script>
<script type="text/javascript">
    var canvas;
    var gl;

    function init() {
        canvas = document.getElementById("canvas");
        gl = WebGLUtils.setupWebGL(canvas);
        if(!gl) {
            alert("Could not set up WebGL. Sorry.");
            return;
        }
        canvas.addEventListener("webglcontextlost", function(event) {
            event.preventDefault();
        }, false);
        canvas.addEventListener("webglcontextrestored", init, false);

        gl.viewport(0, 0, canvas.width, canvas.height);
        gl.clearColor(1.0, 0.0, 0.0, 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT);
        var gl_info_elem = document.getElementById("gl_info");
        gl_info_elem.innerHTML = 
              "WebGL version  : " + gl.getParameter(gl.VERSION) + "<br>"
            + "WebGL renderer : " + gl.getParameter(gl.RENDERER) + "<br>"
            + "WebGL vendor   : " + gl.getParameter(gl.VENDOR) + "<br>"
            + "Extensions : ";
        var exts = gl.getSupportedExtensions();
        for(var i=0 ; i<exts.length ; ++i)
            gl_info.innerHTML += exts[i] + "<br>";
    }

    window.onload = init;
</script>
<body>
    <div id="gl_info"></div>
    <p>This square should appear red.</p>
    <canvas id="canvas" width="512" height="512" style="background:blue;">
        Your browser does not support canvas. Sorry.
    </canvas>
</body>
</html>
